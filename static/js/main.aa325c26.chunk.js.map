{"version":3,"sources":["components/movies.js","components/pagination.js","components/api.js","components/movie.js","App.js","reportWebVitals.js","index.js"],"names":["Movies","props","movieList","this","movies","map","movie","className","title","to","id","src","poster_path","alt","width","loader","length","React","Component","Pagination","prevPage","bind","nextPage","changePage","aria-label","page","onClick","total_pages","api","Movie","youtubeUrl","state","videos","back","cancelToken","axios","CancelToken","source","match","params","get","token","then","result","setState","data","results","forEach","item","site","url","key","height","allowFullScreen","status","tagline","overview","popularity","history","goBack","App","currentGenre","genres","filterMovies","e","target","value","window","location","pathname","push","res","prevProps","prevState","snapshot","onChange","genre","name","path","exact","totalPage","component","withRouter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6RAGqBA,E,kDAEjB,WAAYC,GAAQ,uCACVA,G,qDAIN,IAAMC,EAAYC,KAAKF,MAAMG,OAAOC,KAAI,SAAAC,GAAK,OACzC,sBAAoBC,UAAU,gBAA9B,UACI,oBAAIA,UAAU,QAAd,SAAuBD,EAAME,QAC7B,cAAC,IAAD,CAAMC,GAAE,WAAMH,EAAMI,IAApB,SACI,qBAAKC,IAAG,yCAAoCL,EAAMM,aAC7CC,IAAI,QACJC,MAAM,MACNP,UAAU,YANbD,EAAMI,OAWpB,OAAIP,KAAKF,MAAMc,OACJ,oBAAIR,UAAU,cAAd,uBAENJ,KAAKF,MAAMG,OAAOY,OAInB,qBAAKT,UAAU,kBAAf,SAAkCL,IAH3B,oBAAIK,UAAU,kBAAd,iC,GAvBiBU,IAAMC,WC+B3BC,E,kDA/BX,WAAYlB,GAAQ,IAAD,8BACf,cAAMA,IAEDmB,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKC,SAAW,EAAKA,SAASD,KAAd,gBAJD,E,uDAQflB,KAAKF,MAAMsB,YAAY,K,iCAIvBpB,KAAKF,MAAMsB,WAAW,K,+BAItB,OACI,qBAAKC,aAAW,0BAAhB,SACI,qBAAIjB,UAAU,yCAAd,UACI,oBAAIA,UAAS,oBAAmC,IAApBJ,KAAKF,MAAMwB,KAAa,WAAa,IAAjE,SACI,wBAAQlB,UAAU,YAAYmB,QAASvB,KAAKiB,SAA5C,wBAEJ,oBAAIb,UAAS,oBAAeJ,KAAKF,MAAMwB,OAAStB,KAAKF,MAAM0B,YAAc,WAAa,IAAtF,SACI,wBAAQpB,UAAU,YAAYmB,QAASvB,KAAKmB,SAA5C,6B,GAxBCL,IAAMC,WCFlBU,EACA,+BADAA,EAED,mC,gBC6DGC,E,kDAxDX,WAAY5B,GAAQ,IAAD,8BACf,cAAMA,IAHV6B,WAEmB,iCAEf,EAAKC,MAAQ,CACTzB,MAAO,KACP0B,OAAQ,IAGZ,EAAKC,KAAO,EAAKA,KAAKZ,KAAV,gBAPG,E,gEAUE,IAAD,OACVa,EAAcC,IAAMC,YAAYC,SAC/B3B,EAAMP,KAAKF,MAAMqC,MAAMC,OAAvB7B,GACPyB,IAAMK,IAAN,UAAaZ,EAAb,kBAAkClB,EAAlC,oBAAgDkB,GAC5C,CAAEM,YAAaA,EAAYO,QAC1BC,MAAK,SAAAC,GAAM,OAAI,EAAKC,SAAS,CAACtC,MAAOqC,EAAOE,UAEjDV,IAAMK,IAAN,UAAaZ,EAAb,kBAAkClB,EAAlC,2BAAuDkB,GACnD,CAAEM,YAAaA,EAAYO,QAC1BC,MAAK,SAAAC,GACFA,EAAOE,KAAKC,QAAQC,SAAQ,SAAAC,GACN,YAAdA,EAAKC,OACLD,EAAKE,IAAM,EAAKpB,WAAakB,EAAKG,QAG1C,EAAKP,SAAS,CAACZ,OAAQW,EAAOE,KAAKC,e,+BAK3C,OACI,sBAAKvC,UAAU,oBAAf,UACI,qBAAKA,UAAU,WAAf,SACI,wBAAQO,MAAM,MAAMsC,OAAO,MAAMzC,IAAKR,KAAK4B,MAAMC,QAAU7B,KAAK4B,MAAMC,OAAO,IAAM7B,KAAK4B,MAAMC,OAAO,GAAGkB,IAAKG,iBAAe,MAE/HlD,KAAK4B,MAAMzB,OAAS,sBAAKC,UAAU,WAAf,UACjB,6BAAKJ,KAAK4B,MAAMzB,MAAME,QACtB,wCACA,4BAAIL,KAAK4B,MAAMzB,MAAMgD,SACrB,yCACA,4BAAInD,KAAK4B,MAAMzB,MAAMiD,UACrB,0CACA,4BAAIpD,KAAK4B,MAAMzB,MAAMkD,WACrB,4CACA,4BAAIrD,KAAK4B,MAAMzB,MAAMmD,aACrB,wBAAQlD,UAAU,SAASmB,QAASvB,KAAK8B,KAAzC,0B,6BAOZ9B,KAAKF,MAAMyD,QAAQC,a,GAvDP1C,IAAMC,WCKpB0C,E,kDAEF,WAAY3D,GAAQ,IAAD,8BACf,cAAMA,IACD8B,MAAQ,CACT8B,aAAc,EACdC,OAAQ,GACR/C,QAAQ,EACRU,KAAM,EACNrB,OAAQ,IAGZ,EAAK2D,aAAe,EAAKA,aAAa1C,KAAlB,gBACpB,EAAKE,WAAa,EAAKA,WAAWF,KAAhB,gBAXH,E,yDAcN2C,GACT7D,KAAKyC,SAAS,CACViB,aAAcG,EAAEC,OAAOC,MACvBzC,KAAM,IAEN0C,OAAOC,SAASC,SAASrD,OAAS,GAClCb,KAAKF,MAAMyD,QAAQY,KAAK,O,iCAIrBN,GACP7D,KAAKyC,UAAS,SAACb,GAAD,MAAY,CACtBN,KAAMM,EAAMN,KAAOuC,Q,mKAKjB9B,EAAcC,IAAMC,YAAYC,SACtClC,KAAKyC,SAAS,CAAC7B,QAAQ,IACvBoB,IAAMK,IAAIZ,EAAkB,6BAA+BA,EACvD,CAAEM,YAAaA,EAAYO,QAC1BC,MAAK,SAAA6B,GACF,EAAK3B,SAAS,CAACkB,OAAQS,EAAI1B,KAAKiB,YAGpCZ,E,UAAStB,E,mCAA0CA,E,iBAAuBzB,KAAK4B,MAAMN,MACrFtB,KAAK4B,MAAM8B,eACXX,GAAO,gBAAkB/C,KAAK4B,MAAM8B,cAExC1B,IAAMK,IAAIU,EAAK,CAAEhB,YAAaA,EAAYO,QACrCC,MAAK,SAAAC,GACF,EAAKC,SAAS,CAAC7B,QAAQ,IACvB,EAAK6B,SAAS,CAACxC,OAAQuC,EAAOE,KAAKC,a,+IAI5B0B,EAAWC,EAAWC,GAAW,IAAD,OAC/C,GAAID,EAAUZ,eAAiB1D,KAAK4B,MAAM8B,cAAgBY,EAAUhD,OAAStB,KAAK4B,MAAMN,KAAM,CAC1F,IAAMS,EAAcC,IAAMC,YAAYC,SAElCa,EAAG,UAAMtB,EAAN,mCAAgDA,EAAhD,iBAAuEzB,KAAK4B,MAAMN,MACrFtB,KAAK4B,MAAM8B,eACXX,GAAO,gBAAkB/C,KAAK4B,MAAM8B,cAExC1D,KAAKyC,SAAS,CAAC7B,QAAQ,IACvBoB,IAAMK,IAAIU,EAAK,CAAEhB,YAAaA,EAAYO,QACrCC,MAAK,SAAAC,GACF,EAAKC,SAAS,CAAC7B,QAAQ,IACvB,EAAK6B,SAAS,CAACxC,OAAQuC,EAAOE,KAAKC,gB,+BAM/C,OACI,sBAAKvC,UAAU,YAAf,UACI,qBAAKA,UAAU,eAAf,SACI,qBAAKA,UAAU,SAAf,SACI,qBAAKA,UAAU,oBAAf,SACI,wBAAQA,UAAU,eAAeoE,SAAUxE,KAAK4D,aAAcG,MAAO/D,KAAK4B,MAAM8B,aAAhF,SACK1D,KAAK4B,MAAM+B,QAAU3D,KAAK4B,MAAM+B,OAAO9C,QAAUb,KAAK4B,MAAM+B,OAAOzD,KAAI,SAAAuE,GAAK,OACzE,wBAAuBV,MAAOU,EAAMlE,GAApC,SAAyCkE,EAAMC,MAAlCD,EAAMlE,eAMvC,eAAC,IAAD,WACI,eAAC,IAAD,CAAOoE,KAAK,IAAIC,OAAK,EAArB,UACI,cAAC,EAAD,CAAQ3E,OAAQD,KAAK4B,MAAM3B,OAAQW,OAAQZ,KAAK4B,MAAMhB,UACpDZ,KAAK4B,MAAMhB,QAAS,cAAC,EAAD,CAClBU,KAAMtB,KAAK4B,MAAMN,KACjBuD,UAAW,IACXzD,WAAYpB,KAAKoB,gBAEzB,cAAC,IAAD,CAAOuD,KAAM,OAAQG,UAAWpD,c,GA3FlCZ,IAAMC,WAkGTgE,cAAWtB,GC/FXuB,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3C,MAAK,YAAkD,IAA/C4C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,QCCdO,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,UACI,cAAC,EAAD,QAGRC,SAASC,eAAe,SAM5BZ,M","file":"static/js/main.aa325c26.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default class Movies extends React.Component {\n\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        const movieList = this.props.movies.map(movie => (\n            <div key={movie.id} className=\"col-md-3 mt-5\">\n                <h3 className='title'>{movie.title}</h3>\n                <Link to={`/${movie.id}`}>\n                    <img src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                         alt='photo'\n                         width=\"300\"\n                         className='img'/>\n                </Link>\n            </div>\n        ));\n\n        if (this.props.loader) {\n            return <h5 className='text-center'>Loader...</h5>\n        }\n        if (!this.props.movies.length) {\n            return <h1 className=\"title ml-5 mt-5\">Genre not found</h1>\n        }\n        return (\n            <div className=\"row text-center\">{movieList}</div>\n        )\n    }\n}","import React from 'react';\n\nclass Pagination extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.prevPage = this.prevPage.bind(this);\n        this.nextPage = this.nextPage.bind(this);\n    }\n\n    prevPage() {\n        this.props.changePage(-1);\n    }\n\n    nextPage() {\n        this.props.changePage(1);\n    }\n\n    render() {\n        return (\n            <nav aria-label=\"Page navigation example\">\n                <ul className=\"pagination justify-content-center mt-5\">\n                    <li className={`page-item ${this.props.page === 1 ? 'disabled' : ''}`}>\n                        <button className=\"page-link\" onClick={this.prevPage}>Previous</button>\n                    </li>\n                    <li className={`page-item ${this.props.page === this.props.total_pages ? 'disabled' : ''}`}>\n                        <button className=\"page-link\" onClick={this.nextPage}>Next</button>\n                    </li>\n                </ul>\n            </nav>\n        )\n    }\n}\n\nexport default Pagination;","export const api = {\n    apiHost: 'https://api.themoviedb.org/3',\n    apiKey: '15541eba921815cd9399ab49a5977f16'\n};","import React from 'react';\nimport { api } from './api';\nimport axios from 'axios';\n\nclass Movie extends React.Component {\n    youtubeUrl = `https://www.youtube.com/embed/`;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            movie: null,\n            videos: []\n        };\n\n        this.back = this.back.bind(this);\n    }\n\n    componentDidMount() {\n        const cancelToken = axios.CancelToken.source();\n        const {id} = this.props.match.params;\n        axios.get(`${api.apiHost}/movie/${id}?api_key=${api.apiKey}`,\n            { cancelToken: cancelToken.token })\n            .then(result => this.setState({movie: result.data}));\n\n        axios.get(`${api.apiHost}/movie/${id}/videos?api_key=${api.apiKey}`,\n            { cancelToken: cancelToken.token })\n            .then(result => {\n                result.data.results.forEach(item => {\n                    if (item.site === 'YouTube') {\n                        item.url = this.youtubeUrl + item.key;\n                    }\n                });\n                this.setState({videos: result.data.results})\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"row offset-1 mt-5\">\n                <div className=\"col-md-3\">\n                    <iframe width=\"400\" height=\"600\" src={this.state.videos && this.state.videos[0] && this.state.videos[0].url} allowFullScreen/>\n                </div>\n                {this.state.movie && <div className=\"col-md-5\">\n                    <h2>{this.state.movie.title}</h2>\n                    <h5>Status</h5>\n                    <p>{this.state.movie.status}</p>\n                    <h5>Tagline</h5>\n                    <p>{this.state.movie.tagline}</p>\n                    <h5>Overview</h5>\n                    <p>{this.state.movie.overview}</p>\n                    <h5>Popularity</h5>\n                    <p>{this.state.movie.popularity}</p>\n                    <button className='button' onClick={this.back}>Back</button>\n                </div>}\n            </div>\n        );\n    }\n\n    back() {\n        this.props.history.goBack();\n    }\n}\n\nexport default Movie;","import React from 'react';\nimport './App.css';\nimport {Switch, Route, withRouter} from 'react-router-dom'\nimport Movies from './components/movies';\nimport Pagination from './components/pagination';\nimport Movie from './components/movie';\nimport axios from 'axios';\nimport * as api from './components/api'\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentGenre: 0,\n            genres: [],\n            loader: false,\n            page: 1,\n            movies: []\n        };\n\n        this.filterMovies = this.filterMovies.bind(this);\n        this.changePage = this.changePage.bind(this);\n    }\n\n    filterMovies(e) {\n        this.setState({\n            currentGenre: e.target.value,\n            page: 1\n        });\n        if (window.location.pathname.length > 1) {\n            this.props.history.push('/');\n        }\n    }\n\n    changePage(e) {\n        this.setState((state) => ({\n            page: state.page + e\n        }))\n    }\n\n    async  componentDidMount() {\n        const cancelToken = axios.CancelToken.source();\n        this.setState({loader: true});\n        axios.get(api.api.apiHost + '/genre/movie/list?api_key=' + api.api.apiKey,\n            { cancelToken: cancelToken.token })\n            .then(res => {\n                this.setState({genres: res.data.genres})\n            });\n\n        let url = `${api.api.apiHost}/discover/movie?api_key=${api.api.apiKey}&page=${this.state.page}`;\n        if (this.state.currentGenre) {\n            url += '&with_genres=' + this.state.currentGenre;\n        }\n        axios.get(url, { cancelToken: cancelToken.token })\n            .then(result => {\n                this.setState({loader: false});\n                this.setState({movies: result.data.results});\n            });\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevState.currentGenre !== this.state.currentGenre || prevState.page !== this.state.page) {\n            const cancelToken = axios.CancelToken.source();\n\n            let url = `${api.api.apiHost}/discover/movie?api_key=${api.api.apiKey}&page=${this.state.page}`;\n            if (this.state.currentGenre) {\n                url += '&with_genres=' + this.state.currentGenre;\n            }\n            this.setState({loader: true});\n            axios.get(url, { cancelToken: cancelToken.token })\n                .then(result => {\n                    this.setState({loader: false});\n                    this.setState({movies: result.data.results});\n                });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"mt-5 mb-5\">\n                <div className=\"row offset-1\">\n                    <div className=\"col-10\">\n                        <div className=\"position-relative\">\n                            <select className='form-control' onChange={this.filterMovies} value={this.state.currentGenre}>\n                                {this.state.genres && this.state.genres.length && this.state.genres.map(genre => (\n                                    <option key={genre.id} value={genre.id}>{genre.name}</option>\n                                ))}\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <Switch>\n                    <Route path='/' exact>\n                        <Movies movies={this.state.movies} loader={this.state.loader}/>\n                        {!this.state.loader &&<Pagination\n                            page={this.state.page}\n                            totalPage={500}\n                            changePage={this.changePage}/>}\n                    </Route>\n                    <Route path={'/:id'} component={Movie}/>\n                </Switch>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}