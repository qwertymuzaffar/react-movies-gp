(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{38:function(e,t,a){},40:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),c=a.n(s),i=a(30),r=a.n(i),o=(a(38),a(19)),l=a.n(o),h=a(31),u=a(10),d=a(11),j=a(8),p=a(13),b=a(12),v=(a(40),a(2)),m=a(15),g=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.movies.map((function(e){return Object(n.jsxs)("div",{className:"col-md-3 mt-5",children:[Object(n.jsx)("h3",{className:"title",children:e.title}),Object(n.jsx)(m.b,{to:"/".concat(e.id),children:Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"photo",width:"300",className:"img"})})]},e.id)}));return this.props.loader?Object(n.jsx)("h5",{className:"text-center",children:"Loader..."}):this.props.movies.length?Object(n.jsx)("div",{className:"row text-center",children:e}):Object(n.jsx)("h1",{className:"title ml-5 mt-5",children:"Genre not found"})}}]),a}(c.a.Component),O=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).prevPage=n.prevPage.bind(Object(j.a)(n)),n.nextPage=n.nextPage.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"prevPage",value:function(){this.props.changePage(-1)}},{key:"nextPage",value:function(){this.props.changePage(1)}},{key:"render",value:function(){return Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination justify-content-center mt-5",children:[Object(n.jsx)("li",{className:"page-item ".concat(1===this.props.page?"disabled":""),children:Object(n.jsx)("button",{className:"page-link",onClick:this.prevPage,children:"Previous"})}),Object(n.jsx)("li",{className:"page-item ".concat(this.props.page===this.props.total_pages?"disabled":""),children:Object(n.jsx)("button",{className:"page-link",onClick:this.nextPage,children:"Next"})})]})})}}]),a}(c.a.Component),f="https://api.themoviedb.org/3",x="15541eba921815cd9399ab49a5977f16",k=a(9),y=a.n(k),N=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).youtubeUrl="https://www.youtube.com/embed/",n.state={movie:null,videos:[]},n.back=n.back.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=y.a.CancelToken.source(),a=this.props.match.params.id;y.a.get("".concat(f,"/movie/").concat(a,"?api_key=").concat(x),{cancelToken:t.token}).then((function(t){return e.setState({movie:t.data})})),y.a.get("".concat(f,"/movie/").concat(a,"/videos?api_key=").concat(x),{cancelToken:t.token}).then((function(t){t.data.results.forEach((function(t){"YouTube"===t.site&&(t.url=e.youtubeUrl+t.key)})),e.setState({videos:t.data.results})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"row offset-1 mt-5",children:[Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)("iframe",{width:"400",height:"600",src:this.state.videos&&this.state.videos[0]&&this.state.videos[0].url,allowFullScreen:!0})}),this.state.movie&&Object(n.jsxs)("div",{className:"col-md-5",children:[Object(n.jsx)("h2",{children:this.state.movie.title}),Object(n.jsx)("h5",{children:"Status"}),Object(n.jsx)("p",{children:this.state.movie.status}),Object(n.jsx)("h5",{children:"Tagline"}),Object(n.jsx)("p",{children:this.state.movie.tagline}),Object(n.jsx)("h5",{children:"Overview"}),Object(n.jsx)("p",{children:this.state.movie.overview}),Object(n.jsx)("h5",{children:"Popularity"}),Object(n.jsx)("p",{children:this.state.movie.popularity}),Object(n.jsx)("button",{className:"button",onClick:this.back,children:"Back"})]})]})}},{key:"back",value:function(){this.props.history.goBack()}}]),a}(c.a.Component),P=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentGenre:0,genres:[],loader:!1,page:1,movies:[]},n.filterMovies=n.filterMovies.bind(Object(j.a)(n)),n.changePage=n.changePage.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"filterMovies",value:function(e){this.setState({currentGenre:e.target.value,page:1}),window.location.pathname.length>1&&this.props.history.push("/")}},{key:"changePage",value:function(e){this.setState((function(t){return{page:t.page+e}}))}},{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y.a.CancelToken.source(),this.setState({loader:!0}),y.a.get(f+"/genre/movie/list?api_key="+x,{cancelToken:t.token}).then((function(e){n.setState({genres:e.data.genres})})),a="".concat(f,"/discover/movie?api_key=").concat(x,"&page=").concat(this.state.page),this.state.currentGenre&&(a+="&with_genres="+this.state.currentGenre),y.a.get(a,{cancelToken:t.token}).then((function(e){n.setState({loader:!1}),n.setState({movies:e.data.results})}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(t.currentGenre!==this.state.currentGenre||t.page!==this.state.page){var s=y.a.CancelToken.source(),c="".concat(f,"/discover/movie?api_key=").concat(x,"&page=").concat(this.state.page);this.state.currentGenre&&(c+="&with_genres="+this.state.currentGenre),this.setState({loader:!0}),y.a.get(c,{cancelToken:s.token}).then((function(e){n.setState({loader:!1}),n.setState({movies:e.data.results})}))}}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"mt-5 mb-5",children:[Object(n.jsx)("div",{className:"row offset-1",children:Object(n.jsx)("div",{className:"col-10",children:Object(n.jsx)("div",{className:"position-relative",children:Object(n.jsx)("select",{className:"form-control",onChange:this.filterMovies,value:this.state.currentGenre,children:this.state.genres&&this.state.genres.length&&this.state.genres.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)}))})})})}),Object(n.jsxs)(v.c,{children:[Object(n.jsxs)(v.a,{path:"/",exact:!0,children:[Object(n.jsx)(g,{movies:this.state.movies,loader:this.state.loader}),!this.state.loader&&Object(n.jsx)(O,{page:this.state.page,totalPage:500,changePage:this.changePage})]}),Object(n.jsx)(v.a,{path:"/:id",component:N})]})]})}}]),a}(c.a.Component),w=Object(v.f)(P),S=(a(66),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))});r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(w,{})})}),document.getElementById("root")),S()}},[[67,1,2]]]);
//# sourceMappingURL=main.aa325c26.chunk.js.map